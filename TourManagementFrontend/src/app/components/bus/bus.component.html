<header>
  <div class="navbar navbar-dark bg-dark shadow-sm">
    <div class="navbar-brand align-item-center d-flex">

    </div>

    <div class="main-menu">
      <div class="nav-item ">
        <a class="nav-link">{{email}}</a>
      </div>
      <div class="nav-item ">
        <a class="nav-link" href="history">My history</a>
      </div>
      <div class="nav-item" *ngIf="showAdminBoard">
        <a href="/users" class="nav-link">Users</a>
      </div>
      <div class="nav-item" *ngIf="showAdminBoard">
        <a href="/transits" class="nav-link">Transits</a>
      </div>
    </div>

  </div>
</header>

<div class="info">
  <h2>Available buses</h2>
  <button class="btn" id="add-btn" (click)="openModal()">
    <i id="icon" class="fa-solid fa-bus">Add bus</i>
  </button>
</div>

<table class="table table-striped table-dark" style="width: 70%; margin-left: 15%; margin-top: 5%">
  <thead>
  <tr>
    <th scope="col">No</th>
    <th scope="col">Brand</th>
    <th scope="col">Model</th>
    <th scope="col">Limit</th>
    <th scope="col">Equipment</th>
    <th scope="col">Select</th>
  </tr>
  </thead>
  <tbody>
  <ng-container *ngFor="let bus of buses">
    <tr>
      <th scope="row">{{bus.id}}</th>
      <td>{{bus.brand}}</td>
      <td>{{bus.model}}</td>
      <td>{{bus.passengersLimit}}</td>
      <td>{{bus.equipment}}</td>
      <td><button routerLink= "/buses/{{bus.id}}"><i class="fa-regular fa-square-check"></i></button></td>
    </tr>
  </ng-container>
  </tbody>
</table>

<div class="pages-btn">
  <button id="prev-btn" (click)="previousPage()">Previous</button>
  <button id="next-btn" (click)="nextPage()">Next</button>
</div>

<div id="my-modal" class="modal">
  <div class="modal-content">
    <div class="modal-header">
      <span class="close" (click)="closeModal()">&times;</span>
      <h2>Add bus</h2>
    </div>
    <div class="modal-body">
      <form #addForm="ngForm" (ngSubmit)="addBus(addForm)">
        <div class="form-group">
          <label for="brand">Brand</label>
          <input type="text" ngModel name="brand" class="form-control" id="brand" placeholder="Brand" required>
        </div>
        <div class="form-group">
          <label for="model">Model</label>
          <input type="text" ngModel name="model" class="form-control" id="model" placeholder="Model" required>
        </div>
        <div class="form-group">
          <label for="passengersLimit">Passengers limit</label>
          <input type="text" ngModel name="passengersLimit" class="form-control" id="passengersLimit" placeholder="Passengers limit" required>
        </div>
        <div class="form-group">
          <label for="equipment">Equipment</label>
          <input type="text" ngModel name="equipment" class="form-control" id="equipment" placeholder="Equipment"
                 required>
        </div>
        <div class="modal-footer">
          <button [disabled]="addForm.invalid" type="submit" class="btn btn-primary">Save changes</button>
        </div>
      </form>
    </div>

  </div>
</div>
